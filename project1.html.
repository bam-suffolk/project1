/////// Project 1.
//////// Brian Salaway  (CST 112; FALL 2015)

//// GLOBALS:  coordinates, speed, etc.


float SunX, SunY; //position of Sun
float SundX, SundY; ///speed of Sun 
float horizon; 
float heroX, heroY;//position of hero
float herodX, herodY; ////speed of hero
float monsterX, monsterY;///position of monster
float monsterdX, monsterdY; ////speed of monster
float goldX, goldY;////position of gold
float left, right, top, bottom;
float monsterA;////right arm chasing hero
float monsterB;////left arm chasing hero
float monsterC;////right arm protecting gold
float monsterD;///left arm protecting gold
float e; ///hero leg
float f; ///hero leg
float g; ////monster leg
float h;////monster leg


//// SETUP:  window size, initialization (start in middle of screen).
void setup() {
  size( 640,480);  
  left=50;
  right=width-50;
  top=height/3;
  bottom= height*4/5;  
  horizon=  height/2;
  goldX=600;
  goldY=horizon+200;
  
 
   reset();
} 
 void reset() {
 ////positions of sun, hero, and monster
  SunX=0;
  SunY=height/3; 
  heroX=100;
  heroY= horizon+50;
  monsterX= 500;
  monsterY= horizon-50; 
  monsterA=(monsterY+40);
  monsterB=(monsterY+40);
  monsterC=(monsterX-10);
  monsterD=(monsterX+50);
  
  ////speeds of sun, hero, and monster
  
  SundX=3; 
  SundY=(-1); ///movement of sun 
  herodX= 2;
  herodY=1;  
  monsterdX=-1;
  monsterdY=3;
}  
  
 
 
//// NEXT FRAME:  scene, action, show.
void draw() {
  //// SCENE:  sky, grass.
  {background( 50,50,200 );                // sky
  
 stroke(0);
 strokeWeight(1);
  // Grass
  fill( 100,200,100 );
  rect( 0,horizon, width,height*3/4 );      // grass.
  }
                                            
  //// ACTION:  move (x,y) coordinates.
{ 
  
 SunX=SunX+SundX;
 SunY=SunY+SundY; 
 

 
   heroX += herodX;  if ( heroX<left || heroX>right ) herodX *= -1;
  heroY += herodY;  if ( heroY<top || heroY>bottom ) herodY *=  -1; 
  
   monsterX += monsterdX;  if ( monsterX<left || monsterX>right ) monsterdX *= -1;
  monsterY += monsterdY;  if ( monsterY<top || monsterY>bottom ) monsterdY *=  -1;
 
}
  

  float tmp;
  // Swap velocities!
  if ( dist( monsterX,monsterY, heroX,heroY ) < 150 ) {
    tmp=herodX;  herodX=monsterdX;  monsterdX=tmp;
    tmp=herodY;  herodY=monsterdY;  monsterdY=tmp;
  }
 
   
 
 if (monsterX<500){monsterA=(monsterY+40);} else{monsterA =monsterY;}
  if (monsterX<500){monsterC=(monsterX-10);}else {monsterC =(monsterX-40);} 
  if (monsterX<500) {monsterB=(monsterY+40);}else{monsterB=monsterY+20;}
  if (monsterX<500){monsterD=(monsterX+50);}else {monsterD=monsterX-40;} 
  
  
 

  //// SHOW:  sun, hero, monster (x,y)


  
fill(200,200,0);
ellipse( SunX,SunY, 100, 100 ); ////sun
    
fill(0,0,100);
rect(100,100, 200,150); ////grass
fill(0);
triangle(100,100, 200, 50, 300, 100); ////house roof
rect(120,120, 60,40);/////house windows
rect(220,120, 60,40);////house windows
rect(120,180,40,50);////house windows
rect(240,180,40,50);////house windows
fill(50,0,0);////house front door
rect(180,180, 40, 60);
fill(150);
rect(170,240, 60, 10); ////house front stoop
rect(175,230, 50, 10);
fill(100,0,0); /////house chimney
rect(230,30, 20, 50);

    
/////hero 
if(frameCount %30>15){e=(heroX-10);}else{e=(heroX+10);}
if(frameCount %30>15){f=(heroX-20);}else{f=(heroX+20);}


 fill (240,128,128);
 ellipse(heroX, heroY, 40, 70); 
 ellipse(heroX, heroY-50, 20, 40); 
 
 strokeWeight(10);
 line(heroX-5,heroY+30,e,heroY+70);///legs
 line(heroX+10,heroY+30,f,heroY+70);
 line(heroX,heroY-20,heroX+35,heroY-10);///arms
 line(heroX+15,heroY-20,heroX+35,heroY-20);
 strokeWeight(1);
  
 fill(0,0,200);
 rect(heroX-20,heroY, 40, 35);///shorts
 fill(0);
 line(heroX, heroY+15, heroX, heroY+35);
 
 fill(200,200,0);//hair
 ellipse(heroX, heroY-65, 15,7);  
 fill(0);
 line( heroX+2, heroY-67, heroX+2, heroY-63);
 ellipse(heroX+5, heroY-55, 2,2);
 ellipse(heroX-5, heroY-55, 2,2);
 triangle(heroX,heroY-45, heroX, heroY-47, heroX, heroY-45);

 text("S", heroX-3, heroY);
 
/////////trees
fill(0,150,0);
triangle(300,300, 350,100, 400,300);
fill(100,0,0);
rect(340,300,20,30);
fill(0,150,0);
triangle(150,400, 200,200, 250,400);
fill(100,0,0);
rect(190,400,20,30);


 
 
 
 
 
 
 /////monster
 if(frameCount %30>15){g=(monsterX+5);}else{g=(monsterX-15);}
  if(frameCount %30>15){h=(monsterX+35);}else{h=(monsterX-20);}
 
 
 fill(0,100,0);
 rect(monsterX, monsterY, 40, 60);///torso
 fill(100,0,0);
 rect(monsterX+10, monsterY-25, 20, 25);///head
 fill(0);
 
 line(monsterX+15, monsterY-7, monsterX+17, monsterY-9);///mouth
 line(monsterX+17, monsterY-9, monsterX+21, monsterY-9);
 line(monsterX+21, monsterY-9, monsterX+23, monsterY-7);
 ellipse(monsterX+16, monsterY-17, 3,3);////eyes
 ellipse(monsterX+23, monsterY-17, 3,3);
 line(monsterX+14, monsterY-23, monsterX+19, monsterY-17);
 line(monsterX+21, monsterY-17, monsterX+27, monsterY-23);
  strokeWeight(10);
 line(monsterX,monsterY+5, monsterC, monsterA);/// right arm
 line(monsterX+40,monsterY+5,monsterD, monsterB);/// left arm
 line(monsterX+10, monsterY+60,g, monsterY+100);///right leg 
 line(monsterX+30, monsterY+60, h, monsterY+100);///left leg ;
 
 ////Pot of Gold
 fill(212,175,55);
 strokeWeight(0);
 ellipse(goldX-8, goldY-38, 10, 10);
 ellipse(goldX, goldY-38, 10, 10);
 ellipse(goldX+8, goldY-38, 10, 10);
 ellipse(goldX+16, goldY-38, 10, 10);
 ellipse(goldX+24, goldY-38, 10, 10);
 ellipse(goldX+32, goldY-38, 10, 10);
 ellipse(goldX-5, goldY-45, 10, 10);
 ellipse(goldX, goldY-45, 10, 10);
 ellipse(goldX+7, goldY-45, 10, 10);
 ellipse(goldX+15, goldY-45, 10, 10);
 ellipse(goldX+23, goldY-45, 10, 10);
 ellipse(goldX+31, goldY-45, 10, 10);
 
 fill(0);
 strokeWeight(0);
 triangle(goldX, goldY, goldX-15, goldY-35, goldX+35, goldY-35);
 triangle(goldX, goldY, goldX+35, goldY-35, goldX+20, goldY);
 strokeWeight(3);
 line(goldX-15, goldY-35, goldX+3, goldY-55);
  line(goldX+3, goldY-55, goldX+17, goldY-55);
   line(goldX+17, goldY-55, goldX+35, goldY-35);
}

//////// HANDLERS:  keys


void keyPressed() {
     if (key == 'r') {
    reset();
}

if (key == 'q') {
    exit();  }   
}
